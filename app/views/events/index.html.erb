<div class="max-w-6xl mx-auto py-10 px-4"
     data-controller="event-filter"
     data-event-filter-url-value="<%= events_path(format: :json) %>">

  <div class="flex justify-between items-center mb-6">
    <h1 class="text-3xl font-bold text-gray-800">Alle Events</h1>

    <%= link_to "➕ Neues Event",
                new_event_path,
                class: "bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-xl shadow transition" %>
  </div>

  <!-- Filter & Sort -->
  <div class="flex flex-wrap gap-4 mb-8 items-center">
    <div>
      <label for="event_type" class="block text-sm font-medium text-gray-700">Event-Typ</label>
      <select id="event_type"
              class="mt-1 border border-gray-300 rounded-lg px-3 py-2 text-gray-700 focus:ring-blue-500 focus:border-blue-500"
              data-event-filter-target="type"
              data-action="change->event-filter#update">
        <option value="">Alle</option>
        <option value="catsitting">Catsitting</option>
        <option value="dogsitting">Dogsitting</option>
        <option value="party">Party</option>
        <option value="dating">Dating</option>
      </select>
    </div>

    <div>
      <label for="sort_date" class="block text-sm font-medium text-gray-700">Sortierung</label>
      <select id="sort_date"
              class="mt-1 border border-gray-300 rounded-lg px-3 py-2 text-gray-700 focus:ring-blue-500 focus:border-blue-500"
              data-event-filter-target="sort"
              data-action="change->event-filter#update">
        <option value="">Standard</option>
        <option value="date_asc">Datum ↑</option>
        <option value="date_desc">Datum ↓</option>
      </select>
    </div>
  </div>

  <!-- Eventliste -->
<div data-event-filter-target="list" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
  <%= render partial: "events/event_card", collection: @events, as: :event %>
</div>
</div>
